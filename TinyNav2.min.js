/*! tinyNav2.js v0.61
 * https://github.com/viljamis/tinyNav2.js
 * http://tinynav2.viljamis.com
 *
 * Copyright (c) 2013 @viljamis
 * Available under the MIT license
 *//*jslint browser: true, sloppy: true, vars: true, plusplus: true, indent: 2 */(function(e){var t=e.tinyNav||{},n,r,i,s=console,o=e.document,u="aria-hidden",a=navigator.userAgent,f=o.getElementsByTagName("head")[0],l=o.createElement("style"),c=e.getComputedStyle?!0:!1,h=t.label||"Menu",p=t.debug||!1;p===!0&&s.log("Inited Tinynav2.js");f.appendChild(l);p===!0&&s.log("Created initial 'styleEl' to <head>");e.resizer=function(){if(c)if(e.getComputedStyle(r,null).getPropertyValue("display")!=="none"){r.setAttribute(u,!1);n.setAttribute(u,!0);if(!l.parentNode){f.appendChild(l);p===!0&&s.log("Appended 'styleEl' to <head>")}var t=i.offsetHeight,o="#nav.opened{max-height:"+t+"px }";l.innerHTML=o;o="";p===!0&&s.log("Calculated max-height of "+t+" pixels and updated 'styleEl'")}else{r.setAttribute(u,!0);n.setAttribute(u,!1);if(l.parentNode){l.parentNode.removeChild(l);p===!0&&s.log("Removed 'styleEl' from <head>")}}};e.navigation=function(){var f=!1,l="closed",d="opened",v=function(e){return o.getElementById(e)};n=v(t.nav)||v("nav");i=v(t.navInner)||v("nav-inner");var m=o.createElement("a");m.setAttribute("href","#");m.setAttribute("id","tinynav-toggle");m.setAttribute("class","tinynav-toggle");m.innerHTML=h;n.parentNode.insertBefore(m,n.nextSibling);r=v("tinynav-toggle");a.match(/(Opera Mobi)/)&&(n.style.position="absolute");p===!0&&s.log("Navigation toggle created");var g=function(e){e.preventDefault();if(!f){n.className=n.className.replace(l,d);c&&n.setAttribute(u,!1);f=!0;p===!0&&s.log("Opened navigation")}else{n.className=n.className.replace(d,l);c&&n.setAttribute(u,!0);f=!1;p===!0&&s.log("Closed navigation")}return!1};e.resizer();r.onmousedown=function(e){p===!0&&s.log("Detected mousedown");g(e)};r.ontouchstart=function(e){p===!0&&s.log("Detected touchstart");r.onmousedown=null;g(e)};r.onclick=function(){return!1}};if(e.addEventListener){e.addEventListener("DOMContentLoaded",function(){e.navigation();e.removeEventListener("load",e.navigation,!1)},!1);e.addEventListener("load",e.navigation,!1);e.addEventListener("resize",e.resizer,!1)}else if(e.attachEvent){e.attachEvent("onload",e.navigation);e.attachEvent("resize",e.resizer)}})(this);